"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[562],{690:(O,m,a)=>{a.d(m,{v:()=>v});var S=a(2340),l=a(7716),e=a(2290),b=a(7460),f=a(8583),c=a(1841);let v=(()=>{class h{constructor(d,g,_,C){this.toaster=d,this.translateService=g,this.datePipe=_,this.http=C}dateMapping(d,g){return this.datePipe.transform(d,g)}handleSuccessMessage(d,g){this.toaster.success(d,g)}handleErrorMessage(d){this.toaster.error(d,this.translateService.instant("general.error"))}uploadImg(d){return this.http.post(`${S.N.endPointUrl}user/hosting/upload-images`,d)}}return h.\u0275fac=function(d){return new(d||h)(l.LFG(e._W),l.LFG(b.sK),l.LFG(f.uU),l.LFG(c.eN))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},8562:(O,m,a)=>{a.r(m),a.d(m,{HeaderSliderModule:()=>R});var S=a(8583),l=a(2340),e=a(7716),b=a(1841);let f=(()=>{class n{constructor(t){this.http=t}fetchHeaderSliderList(){return this.http.get(`${l.N.endPointUrl}admin/header-slider-list`)}addHeaderSlider(t){return this.http.post(`${l.N.endPointUrl}admin/add-header-slider`,t)}editHeaderSlider(t,i){return this.http.put(`${l.N.endPointUrl}admin/update-header-slider/${i}`,t)}deleteHeaderSlider(t){return this.http.delete(`${l.N.endPointUrl}admin/delete-header-slider/${t}`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(b.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var c=a(8966),v=a(690),h=a(5319),p=a(3679),d=a(7460),g=a(7093),_=a(7423),C=a(5245);function Z(n,o){if(1&n&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.imgFile?null:t.imgFile.name)}}function H(n,o){if(1&n&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.imgFile.url||(null==t.imgFile?null:t.imgFile.name))}}function A(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-dialog-actions"),e.TgZ(1,"div",12),e.TgZ(2,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().onAdd()}),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.headerSliderForm.invalid),e.xp6(2),e.Oqu(e.lcZ(5,2,"headerSlider.add"))}}function P(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-dialog-actions"),e.TgZ(1,"div",14),e.TgZ(2,"button",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSave()}),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e._UZ(6,"span",16),e.TgZ(7,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().onCancel()}),e.TgZ(8,"span"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.headerSliderForm.invalid),e.xp6(2),e.Oqu(e.lcZ(5,3,"headerSlider.save")),e.xp6(5),e.Oqu(e.lcZ(10,5,"headerSlider.cancel"))}}let x=(()=>{class n{constructor(t,i,r,s,u,J){this.data=t,this.dialogRef=i,this.fb=r,this.translateService=s,this.commonService=u,this.headerSliderMangeService=J,this.loading=!1,this.subscriptions=new h.w,this.formData=new FormData}ngOnInit(){this.initHeaderSliderForm(),this.handleEditMode()}initHeaderSliderForm(){this.headerSliderForm=this.fb.group({url:[null]})}getControl(t){return this.headerSliderForm.get(t)}handleEditMode(){var t;"EDIT"===(null===(t=this.data)||void 0===t?void 0:t.mode)&&(this.imgFile=this.data.headerSliderData)}onAdd(){this.loading=!0,this.subscriptions.add(this.commonService.uploadImg(this.formData).subscribe({next:t=>{var i;null===(i=this.getControl("url"))||void 0===i||i.patchValue(t.data[0].image_url),this.subscriptions.add(this.headerSliderMangeService.addHeaderSlider(this.headerSliderForm.value).subscribe({next:r=>{this.loading=!1,this.dialogRef.close({added:!0,addedItem:null==r?void 0:r.headerSlider}),this.commonService.handleSuccessMessage(this.translateService.instant("headerSlider.addSuccess"),this.translateService.instant("general.success"))},error:r=>{this.loading=!1,this.commonService.handleErrorMessage(r.message)}}))}}))}onSave(){this.loading=!0,this.subscriptions.add(this.commonService.uploadImg(this.formData).subscribe({next:t=>{var i;null===(i=this.getControl("url"))||void 0===i||i.patchValue(t.data[0].image_url),this.headerSliderMangeService.editHeaderSlider(this.headerSliderForm.value,this.data.headerSliderData.id).subscribe({next:r=>{this.loading=!1,this.dialogRef.close({updated:!0}),this.commonService.handleSuccessMessage(this.translateService.instant("headerSlider.updateSuccess"),this.translateService.instant("general.success"))},error:r=>{this.loading=!1,this.commonService.handleErrorMessage(r.message)}})}}))}onCancel(){this.dialogRef.close()}uploadImg(t){this.imgFile=t.target.files[0],this.formData.append("images",this.imgFile)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.WI),e.Y36(c.so),e.Y36(p.qu),e.Y36(d.sK),e.Y36(v.v),e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-header-slider"]],decls:20,vars:8,consts:[[1,"popup-container"],["mat-dialog-title","",1,"d-flex","align-items-center","head"],["fxFlex",""],["mat-icon-button","","matDialogClose","",1,"mat-close-modal"],[1,"content-wrapper"],[3,"formGroup"],[1,"label","file-input",3,"click"],["class","text-muted d-block py-3 ps-2",4,"ngIf"],["type","file",1,"d-none",3,"change"],["inputFile",""],[4,"ngIf"],[1,"text-muted","d-block","py-3","ps-2"],[1,"d-flex","justify-content-center","w-100","mb-4","confirmation-btns"],["mat-stroked-button","",1,"btn","confirm-btn",3,"disabled","click"],[1,"d-flex","justify-content-center","w-100","mb-4","edit-btns"],["mat-stroked-button","",1,"btn","save-btn",3,"disabled","click"],[1,"mx-2"],["mat-flat-button","",1,"btn","cancel-btn",3,"click"]],template:function(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"span",2),e.TgZ(3,"h5"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"span",2),e.TgZ(7,"button",3),e.TgZ(8,"mat-icon"),e._uU(9,"close"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"mat-dialog-content",4),e.TgZ(11,"form",5),e.TgZ(12,"p",6),e.NdJ("click",function(){return e.CHM(r),e.MAs(17).click()}),e._uU(13,"Chooes Image"),e.qZA(),e.YNc(14,Z,2,1,"span",7),e.YNc(15,H,2,1,"span",7),e.TgZ(16,"input",8,9),e.NdJ("change",function(u){return i.uploadImg(u)}),e.qZA(),e.qZA(),e.qZA(),e.YNc(18,A,6,4,"mat-dialog-actions",10),e.YNc(19,P,11,7,"mat-dialog-actions",10),e.qZA()}2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,6,"ADD"===i.data.mode?"headerSlider.addHeaderSlider":"headerSlider.editHeaderSlider")," "),e.xp6(7),e.Q6J("formGroup",i.headerSliderForm),e.xp6(3),e.Q6J("ngIf","ADD"===(null==i.data?null:i.data.mode)),e.xp6(1),e.Q6J("ngIf","EDIT"===(null==i.data?null:i.data.mode)),e.xp6(3),e.Q6J("ngIf","ADD"===(null==i.data?null:i.data.mode)),e.xp6(1),e.Q6J("ngIf","EDIT"===(null==i.data?null:i.data.mode)))},directives:[c.uh,g.yH,_.lW,c.ZT,C.Hw,c.xY,p._Y,p.JL,p.sg,S.O5,c.H8],pipes:[d.X$],styles:[".head[_ngcontent-%COMP%]{justify-content:center!important}.head[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:0}.mat-close-modal[_ngcontent-%COMP%]{line-height:1em!important}.content-wrapper[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{background-color:var(--text-primary);color:var(--white-color);padding:10px 18px;display:inline-block;cursor:pointer;border-radius:10px}.content-wrapper[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;display:block;margin-bottom:1em}.confirm-btn[_ngcontent-%COMP%]{padding:6px 18px;line-height:1.7em;background-color:var(--text-primary);color:var(--white-color);width:100%}.edit-btns[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{padding:6px 18px;line-height:1.7em;background-color:var(--text-primary);color:var(--white-color);width:40%}.edit-btns[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{width:40%}"]}),n})();var T=a(1393),w=a(1576);function D(n,o){if(1&n&&e._UZ(0,"img",9),2&n){const t=o.$implicit;e.Q6J("src",null==t?null:t.url,e.LSH)}}const y=function(){return[5,10,50,100]},F=function(n){return{url:n}};let E=(()=>{class n{constructor(t,i,r,s){this.translateService=t,this.dialog=i,this.commonService=r,this.headerSliderMangeService=s,this.subscriptions=new h.w,this.loading=!1,this.headerSliderData=[],this.columns=[{header:this.translateService.instant("headerSlider.id"),field:"id",width:"20%"},{header:this.translateService.instant("headerSlider.imageUrl"),field:"url",width:"20%"},{header:this.translateService.instant("headerSlider.actions"),field:"operation",width:"20%",type:"button",buttons:[{color:"info",type:"icon",icon:"edit",tooltip:this.translateService.instant("headerSlider.edit"),click:u=>this.onEditHeaderSlider(u)},{color:"warn",type:"icon",icon:"delete",tooltip:this.translateService.instant("headerSlider.delete"),click:u=>this.onDeleteHeaderSlider(u)}]}]}ngOnInit(){this.fetchHeaderSliderList()}fetchHeaderSliderList(){this.loading=!0,this.subscriptions.add(this.headerSliderMangeService.fetchHeaderSliderList().subscribe({next:t=>{1==t.successful&&(this.loading=!1,this.headerSliderData=t.headerSlider)},error:t=>{console.log(t)}}))}onAddHeaderSlider(){const i=this.dialog.open(x,{disableClose:!0,width:"600px",panelClass:["main-popup"],data:{headerSliderData:{},mode:"ADD"}}).afterClosed().subscribe(r=>{i.unsubscribe(),this.fetchHeaderSliderList()})}onEditHeaderSlider(t){const r=this.dialog.open(x,{disableClose:!0,width:"600px",panelClass:["main-popup"],data:{headerSliderData:t,mode:"EDIT"}}).afterClosed().subscribe(s=>{r.unsubscribe(),this.fetchHeaderSliderList()})}onDeleteHeaderSlider(t){const i=this.dialog.open(T.S,{disableClose:!0,width:"600px",panelClass:["main-popup"],data:{popupHeading:this.translateService.instant("general.warning"),contentMsg:this.translateService.instant("headerSlider.deleteConfirmation"),cancelBtnText:this.translateService.instant("general.cancel"),confirmBtnText:this.translateService.instant("general.confirm")}}),r=i.componentInstance.confirmationEmitter.subscribe(s=>{s?this.deleteHeaderSlider(t,i):i.close(),r.unsubscribe()})}deleteHeaderSlider(t,i){this.subscriptions.add(this.headerSliderMangeService.deleteHeaderSlider(t.id).subscribe({next:()=>{i.close(),this.commonService.handleSuccessMessage(this.translateService.instant("headerSlider.deleteSuccess"),this.translateService.instant("general.success"))},error:r=>{this.commonService.handleErrorMessage(r.message)},complete:()=>{this.fetchHeaderSliderList()}}))}onPageChanged(t){console.log(null==t?void 0:t.pageIndex)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.sK),e.Y36(c.uw),e.Y36(v.v),e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-header-slider"]],decls:14,vars:25,consts:[[1,"container-fluid","pt-3","pb-4"],[1,"row","pb-4"],[1,"col-lg-6","col-md-6","col-sm-12","title-row"],[1,"title"],[1,"col-lg-6","col-md-6","col-sm-12","button-container"],["mat-raised-button","",1,"btn",3,"click"],[1,"row","table-row"],[3,"data","columns","loading","columnResizable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","columnMovable","expandable","pageOnFront","showPaginator","pageSizeOptions","pageIndex","pageSize","cellTemplate","page"],["url",""],[1,"cover-photo",3,"src"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h3",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"button",5),e.NdJ("click",function(){return i.onAddHeaderSlider()}),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",6),e.TgZ(11,"mtx-grid",7),e.NdJ("page",function(s){return i.onPageChanged(s)}),e.qZA(),e.YNc(12,D,1,1,"ng-template",null,8,e.W1O),e.qZA(),e.qZA()),2&t){const r=e.MAs(13);e.xp6(4),e.Oqu(e.lcZ(5,18,"menu.headerSlider")),e.xp6(4),e.Oqu(e.lcZ(9,20,"headerSlider.addHeaderSlider")),e.xp6(3),e.Q6J("data",i.headerSliderData)("columns",i.columns)("loading",i.loading)("columnResizable",!1)("rowSelectable",!1)("hideRowSelectionCheckbox",!0)("rowHover",!0)("rowStriped",!0)("columnMovable",!1)("expandable",!1)("pageOnFront",!0)("showPaginator",!0)("pageSizeOptions",e.DdM(22,y))("pageIndex",0)("pageSize",5)("cellTemplate",e.VKq(23,F,r))}},directives:[_.lW,w.CM],pipes:[d.X$],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#f4f4f4}.title-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{border-inline-start:6px solid var(--text-primary);color:var(--text-primary);padding-inline-start:4px}.button-container[_ngcontent-%COMP%]{justify-content:end;text-align:end;padding-inline-end:5%}.button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:var(--text-primary);color:var(--white-color)}.search-container[_ngcontent-%COMP%]{align-self:center}.search-container[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{background-color:#fff;padding:10px 20px;border-radius:30px;border:1px solid #CDCDCD;width:70%;overflow:hidden}@media (max-width: 1024px){.search-container[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{width:90%}}@media (max-width: 576px){.search-container[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{width:100%;padding:8px 10px}}.search-container[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:transparent;border:none;font-size:14px;box-shadow:none;width:90%}.search-container[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}.search-container[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.filter-container[_ngcontent-%COMP%]{justify-content:end;text-align:end}@media (max-width: 768px){.filter-container[_ngcontent-%COMP%]{margin-top:1em;justify-content:start;text-align:start}}.filter-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:50%;display:inline-block;padding-right:1em;padding-left:1em}.cover-photo[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:5px;object-fit:cover}"]}),n})();var M=a(3423);const I=[{path:"",component:E}];let U=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[M.Bz.forChild(I)],M.Bz]}),n})();var L=a(4284);let R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[S.ez,U,L.m8,p.u5,p.UX]]}),n})()}}]);