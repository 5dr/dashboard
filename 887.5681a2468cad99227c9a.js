"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[887],{690:(M,d,t)=>{t.d(d,{v:()=>u});var s=t(7716),c=t(2290),g=t(69),m=t(8583);let u=(()=>{class r{constructor(e,i,y){this.toaster=e,this.translateService=i,this.datePipe=y}dateMapping(e,i){return this.datePipe.transform(e,i)}handleSuccessMessage(e,i){this.toaster.success(e,i)}handleErrorMessage(e){this.toaster.error(e,this.translateService.instant("general.error"))}}return r.\u0275fac=function(e){return new(e||r)(s.LFG(c._W),s.LFG(g.sK),s.LFG(m.uU))},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},4887:(M,d,t)=>{t.r(d),t.d(d,{PaymentAndTransactionsModule:()=>b});var s=t(8583),c=t(3679),g=t(4284),m=t(3423),u=t(5319),r=t(4957),v=t(809),e=t(7716),i=t(69),y=t(8966),P=t(690),_=t(5245),f=t(7322),T=t(3157),A=t(1655);const C=function(){return[5,10,50,100]},S=[{path:"",component:(()=>{class a{constructor(n,o,p,h){this.translateService=n,this.dialog=o,this.commonService=p,this.paymentAndTransactionsService=h,this.PaymentStatus=[{id:1,name:"Pending"},{id:2,name:"Verified"}],this.transactionsList=[{id:1,traveller_name:"John Doe",traveller_email:"John@doe.com",traveller_phone:"010-12345678",host_name:"Mark Doe",host_email:"mark@doe.com",host_phone:"010-12345678",property_name:"Royal",booked_from:"2021-12-22T08:54:40.000+05:30",booked_to:"2021-12-22T08:54:40.000+05:30",country:"USA",city:"New York",address:"555 Lexington Avenue",date:"2021-12-22T08:54:40.000+05:30",transaction_type:"Apple Pay",status:"Verified",price_total:2400},{id:1,traveller_name:"John Doe",traveller_email:"John@doe.com",traveller_phone:"010-12345678",host_name:"Mark Doe",host_email:"mark@doe.com",host_phone:"010-12345678",property_name:"Royal",booked_from:"2021-12-22T08:54:40.000+05:30",booked_to:"2021-12-22T08:54:40.000+05:30",country:"USA",city:"New York",address:"555 Lexington Avenue",date:"2021-12-22T08:54:40.000+05:30",transaction_type:"Apple Pay",status:"Verified",price_total:2400},{id:1,traveller_name:"John Doe",traveller_email:"John@doe.com",traveller_phone:"010-12345678",host_name:"Mark Doe",host_email:"mark@doe.com",host_phone:"010-12345678",property_name:"Royal",booked_from:"2021-12-22T08:54:40.000+05:30",booked_to:"2021-12-22T08:54:40.000+05:30",country:"USA",city:"New York",address:"555 Lexington Avenue",date:"2021-12-22T08:54:40.000+05:30",transaction_type:"Apple Pay",status:"Verified",price_total:2400},{id:1,traveller_name:"John Doe",traveller_email:"John@doe.com",traveller_phone:"010-12345678",host_name:"Mark Doe",host_email:"mark@doe.com",host_phone:"010-12345678",property_name:"Royal",booked_from:"2021-12-22T08:54:40.000+05:30",booked_to:"2021-12-22T08:54:40.000+05:30",country:"USA",city:"New York",address:"555 Lexington Avenue",date:"2021-12-22T08:54:40.000+05:30",transaction_type:"Apple Pay",status:"Verified",price_total:2400},{id:1,traveller_name:"John Doe",traveller_email:"John@doe.com",traveller_phone:"010-12345678",host_name:"Mark Doe",host_email:"mark@doe.com",host_phone:"010-12345678",property_name:"Royal",booked_from:"2021-12-22T08:54:40.000+05:30",booked_to:"2021-12-22T08:54:40.000+05:30",country:"USA",city:"New York",address:"555 Lexington Avenue",date:"2021-12-22T08:54:40.000+05:30",transaction_type:"Apple Pay",status:"Verified",price_total:2400},{id:1,traveller_name:"John Doe",traveller_email:"John@doe.com",traveller_phone:"010-12345678",host_name:"Mark Doe",host_email:"mark@doe.com",host_phone:"010-12345678",property_name:"Royal",booked_from:"2021-12-22T08:54:40.000+05:30",booked_to:"2021-12-22T08:54:40.000+05:30",country:"USA",city:"New York",address:"555 Lexington Avenue",date:"2021-12-22T08:54:40.000+05:30",transaction_type:"Apple Pay",status:"Verified",price_total:2400}],this.columns=[{header:this.translateService.instant("paymentManagement.id"),field:"id"},{header:this.translateService.instant("paymentManagement.propertyName"),field:"property_name"},{header:this.translateService.instant("paymentManagement.travellerName"),field:"traveller_name"},{header:this.translateService.instant("paymentManagement.hostName"),field:"host_name"},{header:this.translateService.instant("paymentManagement.date"),field:"date",type:"date",typeParameter:{format:"yyyy-MM-dd"}},{header:this.translateService.instant("paymentManagement.status"),field:"status"},{header:this.translateService.instant("paymentManagement.actions"),field:"operation",width:"300px",minWidth:300,type:"button",buttons:[{color:"info",type:"icon",icon:"visibility",tooltip:this.translateService.instant("paymentManagement.viewDetails"),click:w=>this.onViewDetails(w)}]}],this.loading=!1,this.subscriptions=new u.w}ngOnInit(){}fetchTransactionsList(){this.loading=!0,this.subscriptions.add(this.paymentAndTransactionsService.fetchTransactionsList().subscribe(n=>{this.loading=!1},n=>{var o;this.loading=!1,this.commonService.handleErrorMessage(null===(o=null==n?void 0:n.error)||void 0===o?void 0:o.message)}))}onViewDetails(n){const p=this.dialog.open(r.j,{disableClose:!0,width:"600px",panelClass:["main-popup"],data:{transactionItemData:n}}).afterClosed().subscribe(h=>{p.unsubscribe()})}onPageChanged(n){console.log(null==n?void 0:n.pageIndex)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return a.\u0275fac=function(n){return new(n||a)(e.Y36(i.sK),e.Y36(y.uw),e.Y36(P.v),e.Y36(v.Z))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-payment-and-transactions"]],decls:16,vars:20,consts:[[1,"container-fluid","pt-3","pb-4"],[1,"row","title-row","pb-4"],[1,"title"],[1,"row","filter-row","pb-3"],[1,"col-lg-6","col-md-6","col-sm-12","search-container"],[1,"search-wrapper"],["matPrefix",""],["type","text","placeholder","Search ....."],[1,"col-lg-6","col-md-6","col-sm-12","filter-container"],["floatLabel","never",1,""],["placeholder","Payment Status","bindLabel","name","bindValue","id",3,"items"],[1,"row","table-row"],[3,"data","columns","loading","columnResizable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","columnMovable","expandable","pageOnFront","showPaginator","pageSizeOptions","pageIndex","pageSize","page"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"mat-icon",6),e._uU(9,"search"),e.qZA(),e._UZ(10,"input",7),e.qZA(),e.qZA(),e.TgZ(11,"div",8),e.TgZ(12,"mat-form-field",9),e._UZ(13,"mtx-select",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",11),e.TgZ(15,"mtx-grid",12),e.NdJ("page",function(h){return o.onPageChanged(h)}),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,17,"menu.paymentsAndTransactions")),e.xp6(10),e.Q6J("items",o.PaymentStatus),e.xp6(2),e.Q6J("data",o.transactionsList)("columns",o.columns)("loading",o.loading)("columnResizable",!1)("rowSelectable",!1)("hideRowSelectionCheckbox",!0)("rowHover",!0)("rowStriped",!0)("columnMovable",!1)("expandable",!1)("pageOnFront",!0)("showPaginator",!0)("pageSizeOptions",e.DdM(19,C))("pageIndex",0)("pageSize",5))},directives:[_.Hw,f.qo,f.KE,T.MS,A.CM],pipes:[i.X$],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#f4f4f4}.title-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{border-inline-start:6px solid var(--text-primary);color:var(--text-primary)}.search-container[_ngcontent-%COMP%]{align-self:center}.search-container[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{background-color:#fff;padding:10px 20px;border-radius:30px;border:1px solid #CDCDCD;width:70%;overflow:hidden}@media (max-width: 1024px){.search-container[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{width:90%}}@media (max-width: 576px){.search-container[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{width:100%;padding:8px 10px}}.search-container[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:transparent;border:none;font-size:14px;box-shadow:none;width:90%}.search-container[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}.search-container[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.filter-container[_ngcontent-%COMP%]{justify-content:end;text-align:end}@media (max-width: 768px){.filter-container[_ngcontent-%COMP%]{margin-top:1em;justify-content:start;text-align:start}}.filter-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:50%;display:inline-block;padding-right:1em;padding-left:1em}"]}),a})()}];let x=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[m.Bz.forChild(S)],m.Bz]}),a})(),b=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[],imports:[[s.ez,x,c.u5,c.UX,g.m8]]}),a})()}}]);