"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[426],{4426:(L,m,a)=>{a.r(m),a.d(m,{PushManagementModule:()=>S});var d=a(8583),r=a(3679),p=a(4284),u=a(3423),h=a(5319),M=a(690),v=a(2340),t=a(7716),f=a(1841);let C=(()=>{class n{constructor(e){this.http=e}postAnnouncement(e){return this.http.post(`${v.N.endPointUrl}admin/send-email`,e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(f.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var g=a(7460),b=a(9224),c=a(7322),P=a(5870),x=a(7423);function Z(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"pushManagement.targetRequired")," "))}function A(n,i){if(1&n&&(t.TgZ(0,"mat-error"),t.YNc(1,Z,3,3,"span",7),t.qZA()),2&n){const e=t.oxw();let o;t.xp6(1),t.Q6J("ngIf",(null==(o=e.getControl("send_to"))?null:o.touched)&&(null==(o=e.getControl("send_to"))||null==o.errors?null:o.errors.required))}}function O(n,i){1&n&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"pushManagement.bodyRequired")," "))}const T=[{path:"",component:(()=>{class n{constructor(e,o,l,s){this.fb=e,this.translateService=o,this.commonService=l,this.pushManagementService=s,this.targetAudience=[{id:1,name:this.translateService.instant("pushManagement.traveller"),value:"traveller"},{id:2,name:this.translateService.instant("pushManagement.host"),value:"host"},{id:3,name:this.translateService.instant("pushManagement.both"),value:"both"}],this.loading=!1,this.subscriptions=new h.w}ngOnInit(){this.initAnnouncementForm()}initAnnouncementForm(){this.announcementForm=this.fb.group({send_to:["",[r.kI.required]],email_body:["",[r.kI.required]]})}getControl(e){return this.announcementForm.get(e)}onSend(){this.loading=!0,this.subscriptions.add(this.pushManagementService.postAnnouncement(this.announcementForm.value).subscribe(e=>{this.loading=!1,console.log(e),this.commonService.handleSuccessMessage(this.translateService.instant("pushManagement.sentSuccess"),this.translateService.instant("general.success"))},e=>{var o;this.loading=!1,this.commonService.handleErrorMessage(null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(g.sK),t.Y36(M.v),t.Y36(C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-push-management"]],decls:25,vars:20,consts:[[1,"container-fluid","pt-3","pb-4"],[1,"row","title-row","pb-4"],[1,"title"],[1,"row","form-row"],[3,"formGroup"],["floatLabel","never",1,"target-wrapper"],["required","","formControlName","send_to","bindLabel","name","bindValue","value",3,"items"],[4,"ngIf"],[1,"target-wrapper"],[1,"editor-wrapper"],["cols","30","rows","10","required","","formControlName","email_body",3,"placeholder"],["class","error pb-3",4,"ngIf"],["mat-raised-button","",3,"disabled","click"],[1,"error","pb-3"]],template:function(e,o){if(1&e&&(t.TgZ(0,"mat-card"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.TgZ(3,"h3",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.TgZ(6,"div",3),t.TgZ(7,"form",4),t.TgZ(8,"mat-form-field",5),t.TgZ(9,"p"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"mtx-select",6),t.YNc(13,A,2,1,"mat-error",7),t.qZA(),t.TgZ(14,"div",8),t.TgZ(15,"p"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"div",9),t._UZ(19,"textarea",10),t.ALo(20,"translate"),t.qZA(),t.YNc(21,O,3,3,"span",11),t.qZA(),t.TgZ(22,"button",12),t.NdJ("click",function(){return o.onSend()}),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){let l,s;t.xp6(4),t.Oqu(t.lcZ(5,10,"pushManagement.postAnnouncement")),t.xp6(3),t.Q6J("formGroup",o.announcementForm),t.xp6(3),t.Oqu(t.lcZ(11,12,"pushManagement.sendTo")),t.xp6(2),t.Q6J("items",o.targetAudience),t.xp6(1),t.Q6J("ngIf",null==(l=o.getControl("send_to"))?null:l.invalid),t.xp6(3),t.Oqu(t.lcZ(17,14,"pushManagement.announcementBody")),t.xp6(3),t.s9C("placeholder",t.lcZ(20,16,"pushManagement.typeHere")),t.xp6(2),t.Q6J("ngIf",(null==(s=o.getControl("email_body"))?null:s.touched)&&(null==(s=o.getControl("email_body"))||null==s.errors?null:s.errors.required)),t.xp6(1),t.Q6J("disabled",o.announcementForm.invalid||o.loading),t.xp6(1),t.Oqu(t.lcZ(24,18,"pushManagement.send"))}},directives:[b.a8,r._Y,r.JL,r.sg,c.KE,P.MS,r.Q7,r.JJ,r.u,d.O5,r.Fj,x.lW,c.TO],pipes:[g.X$],styles:[".title-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{border-inline-start:6px solid var(--text-primary);color:var(--text-primary)}.target-wrapper[_ngcontent-%COMP%]{width:50%;text-align:start}@media (max-width: 991px){.target-wrapper[_ngcontent-%COMP%]{width:100%}}.target-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block;margin-inline-end:1em;font-weight:bold}.target-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:12px;resize:none;border:none;border-bottom:1px solid #949494;width:100%}.target-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-bottom:2px solid #3f51b5;outline:none}.target-wrapper[_ngcontent-%COMP%]   textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-bottom:1px solid #f44336}.radio-wrapper[_ngcontent-%COMP%]{width:100%;text-align:start;margin-top:2em;margin-bottom:2em}.radio-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block;margin-inline-end:1em;font-weight:bold}.radio-wrapper[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:inline-block;width:50%}@media (max-width: 576px){.radio-wrapper[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{margin-bottom:1em}}.mat-raised-button[_ngcontent-%COMP%]{background-color:var(--text-primary);color:var(--white-color);margin-top:3em;padding-right:24px;padding-left:24px}.form-row[_ngcontent-%COMP%]{position:relative}.form-row[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#f44336;font-size:12px;text-align:start;position:absolute;bottom:10%;inset-inline-start:12px}"]}),n})()}];let w=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.Bz.forChild(T)],u.Bz]}),n})();var y=a(5002);let S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[],imports:[[d.ez,w,r.u5,r.UX,p.m8,y.FP.forRoot({locals:{bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"}})]]}),n})()}}]);