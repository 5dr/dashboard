"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[308],{2308:(X,g,r)=>{r.r(g),r.d(g,{DashboardModule:()=>Q});var v=r(7545),m=r(8583),l=r(3679),d=r(3423),u=r(690),f=r(2340),t=r(7716),y=r(1841);let Z=(()=>{class o{constructor(e){this.http=e}fetchDashboardStatistic(){return this.http.get(`${f.N.endPointUrl}admin/dashboard-statistic1`)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(y.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var b=r(5319),h=r(2115),p=r(7460);let x=(()=>{class o{constructor(){}ngOnInit(){this.initChart()}initChart(){this.chartOptions={series:[{name:"Users",data:[31,40,28,51,42,109,100],color:"#EE5076"},{name:"Requests",data:[11,32,45,32,34,52,41],color:"#56AEC3"},{name:"Properties",data:[11,52,35,12,74,62,81],color:"#0B2A3C"}],legend:{fontSize:"18px",position:"top",horizontalAlign:"right",itemMargin:{horizontal:20,vertical:10}},chart:{fontFamily:"Ubuntu",height:350,type:"area",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},xaxis:{type:"datetime",categories:["2018-09-19T00:00:00.000Z","2018-09-19T01:30:00.000Z","2018-09-19T02:30:00.000Z","2018-09-19T03:30:00.000Z","2018-09-19T04:30:00.000Z","2018-09-19T05:30:00.000Z","2018-09-19T06:30:00.000Z"]}}}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-comparison-dashboard"]],decls:5,vars:9,consts:[[1,"comparison"],[3,"series","chart","xaxis","stroke","dataLabels","legend"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0),t.TgZ(1,"h4"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"apx-chart",1),t.qZA()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,7,"general.comparison")," "),t.xp6(2),t.Q6J("series",n.chartOptions.series)("chart",n.chartOptions.chart)("xaxis",n.chartOptions.xaxis)("stroke",n.chartOptions.stroke)("dataLabels",n.chartOptions.dataLabels)("legend",n.chartOptions.legend))},directives:[h.x],pipes:[p.X$],styles:[".comparison[_ngcontent-%COMP%]{background:#FFFFFF;box-shadow:var(--box-shadow);border-radius:10px;padding:15px 10px}.comparison[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500;font-size:20px;line-height:20px;color:var(--main-txt-color);margin-bottom:30px}"]}),o})(),C=(()=>{class o{constructor(){}ngOnInit(){this.initChart()}initChart(){this.chartOptions={colors:["#EE5076","#0B2A3C","#0A8C8F","#56AEC3"],series:[42,15,23,20],legend:{position:"bottom",fontSize:"18px",horizontalAlign:"left",itemMargin:{horizontal:20,vertical:10}},chart:{fontFamily:"Ubuntu",type:"donut",dropShadow:{enabled:!1},height:400},labels:["Appartment","Villa","Farm house","Istraha"],responsive:[{breakpoint:480,options:{chart:{width:400},legend:{position:"bottom"}}}]}}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-property-type"]],decls:6,vars:9,consts:[[1,"property-type"],["id","chart"],[3,"series","chart","labels","responsive","colors","legend"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0),t.TgZ(1,"h4"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",1),t._UZ(5,"apx-chart",2),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,7,"propertiesManagement.propertyType")," "),t.xp6(3),t.Q6J("series",n.chartOptions.series)("chart",n.chartOptions.chart)("labels",n.chartOptions.labels)("responsive",n.chartOptions.responsive)("colors",n.chartOptions.colors)("legend",n.chartOptions.legend))},directives:[h.x],pipes:[p.X$],styles:[".property-type[_ngcontent-%COMP%]{background:#FFFFFF;box-shadow:var(--box-shadow);border-radius:10px;padding:15px 10px;height:100%}.property-type[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500;font-size:20px;line-height:20px;color:var(--main-txt-color)}"]}),o})(),T=(()=>{class o{constructor(){}ngOnInit(){this.initChart()}initChart(){this.chartOptions={series:[{name:"XYZ MOTORS",data:[31,40,28,51,42,109,100],color:"#F43F5E"}],chart:{type:"area",fontFamily:"Ubuntu",stacked:!1,height:350,zoom:{type:"x",enabled:!0,autoScaleYaxis:!0},toolbar:{show:!1}},fill:{opacity:[0,0],colors:["transparent","transparent"]},xaxis:{type:"datetime",categories:["2018-09-19T00:00:00.000Z","2018-09-19T01:30:00.000Z","2018-09-19T02:30:00.000Z","2018-09-19T03:30:00.000Z","2018-09-19T04:30:00.000Z","2018-09-19T05:30:00.000Z","2018-09-19T06:30:00.000Z"]},stroke:{curve:"smooth",width:1},legend:{show:!1},dataLabels:{enabled:!1}}}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-roomz-balance"]],decls:5,vars:10,consts:[[1,"roomz-palance"],[3,"series","chart","xaxis","stroke","dataLabels","legend","fill"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0),t.TgZ(1,"h4"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"apx-chart",1),t.qZA()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,8,"general.roomzBalance")," "),t.xp6(2),t.Q6J("series",n.chartOptions.series)("chart",n.chartOptions.chart)("xaxis",n.chartOptions.xaxis)("stroke",n.chartOptions.stroke)("dataLabels",n.chartOptions.dataLabels)("legend",n.chartOptions.legend)("fill",n.chartOptions.fill))},directives:[h.x],pipes:[p.X$],styles:[".roomz-palance[_ngcontent-%COMP%]{background:#FFFFFF;box-shadow:var(--box-shadow);border-radius:10px;padding:15px 10px}.roomz-palance[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500;font-size:20px;line-height:20px;color:var(--main-txt-color);margin-bottom:30px}"]}),o})();var M=r(4295),A=r(4512),O=r(8966),P=r(9224),S=r(7322),w=r(5870),D=r(1576);function F(o,a){if(1&o&&t._UZ(0,"img",8),2&o){const e=a.$implicit;t.Q6J("src",null==e?null:e.cover_photo,t.LSH)("alt",null==e?null:e.name)}}const _=function(){return[1,3,10,50,100]},z=function(o){return{cover_photo:o}};let L=(()=>{class o{constructor(e,n,s,i,B){this.translateService=e,this.dialog=n,this.commonService=s,this.router=i,this.propertiesManagementService=B,this.PropertyTypes=[],this.propertiesCriteria={page:0,pageSize:1,status:0,property_type:0,search:""},this.propertyTypes=[],this.propertiesData=[],this.columns=[{header:this.translateService.instant("propertiesManagement.propertyID"),field:"id",width:"14%"},{header:this.translateService.instant("propertiesManagement.propertyImg"),field:"cover_photo",width:"14%"},{header:this.translateService.instant("propertiesManagement.propertyName"),field:"name",width:"14%"},{header:this.translateService.instant("propertiesManagement.propertyType"),field:"type.property_type",width:"14%"},{header:this.translateService.instant("propertiesManagement.country"),field:"country",width:"14%"},{header:this.translateService.instant("propertiesManagement.city"),field:"city",width:"14%"},{header:this.translateService.instant("propertiesManagement.actions"),field:"operation",type:"button",buttons:[{color:"info",type:"icon",icon:"visibility",tooltip:this.translateService.instant("propertiesManagement.viewDetails"),click:c=>this.onViewDetails(c)},{color:"warn",type:"icon",icon:"close",tooltip:this.translateService.instant("propertiesManagement.reject"),iif:c=>2===c.status,click:c=>this.onRejectProperty(c)}]}],this.loading=!1,this.subscriptions=new b.w}ngOnInit(){this.fetchPropertyTypes(),this.fetchPropertiesList()}fetchPropertyTypes(){this.subscriptions.add(this.propertiesManagementService.fetchPropertyTypes().subscribe(e=>{this.propertyTypes=null==e?void 0:e.data},e=>{var n;this.commonService.handleErrorMessage(null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.message)}))}fetchPropertiesList(){this.loading=!0,this.propertiesCriteria.status||delete this.propertiesCriteria.status,this.propertiesCriteria.property_type||delete this.propertiesCriteria.property_type,this.subscriptions.add(this.propertiesManagementService.fetchPropertyList(this.propertiesCriteria).subscribe(e=>{var n;console.log(e),this.loading=!1,this.propertiesData=null===(n=null==e?void 0:e.properties)||void 0===n?void 0:n.data,console.log(this.propertiesData)},e=>{var n;this.commonService.handleErrorMessage(null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.message)}))}onSelectPropertyType(e){e?(this.propertiesCriteria.property_type=null==e?void 0:e.id,this.fetchPropertiesList()):(this.propertiesCriteria.property_type=void 0,this.fetchPropertiesList())}onViewDetails(e){this.router.navigate(["/properties-approval/property-details",e.uid])}onAcceptProperty(e){this.subscriptions.add(this.propertiesManagementService.updatePropertyStatus(null==e?void 0:e.uid,{status:3}).subscribe(s=>{console.log(s),this.commonService.handleSuccessMessage(this.translateService.instant("propertiesManagement.propertyAcceptSuccess"),this.translateService.instant("general.success")),this.fetchPropertiesList()},s=>{var i;this.commonService.handleErrorMessage(null===(i=null==s?void 0:s.error)||void 0===i?void 0:i.message)}))}onRejectProperty(e){const s=this.dialog.open(A.H,{disableClose:!0,width:"600px",panelClass:["main-popup"],data:{propertyData:e}}).afterClosed().subscribe(i=>{(null==i?void 0:i.isSent)&&this.fetchPropertiesList(),s.unsubscribe()})}changeSort(e){}changeSelect(e){console.log(e)}onPageChanged(e){console.log(null==e?void 0:e.pageIndex)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.sK),t.Y36(O.uw),t.Y36(u.v),t.Y36(d.F0),t.Y36(M.T))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-property-dashboard"]],decls:13,vars:28,consts:[[1,"row","justify-content-between","align-items-center","title-row","pb-4"],[1,"title","col-md-7"],[1,"col-md-3","filter-container"],["floatLabel","never",1,""],["bindLabel","property_type","bindValue","id",3,"clearable","placeholder","ngModel","items","ngModelChange","change"],[1,"row","table-row"],[3,"data","columns","loading","columnResizable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","columnMovable","expandable","pageOnFront","showPaginator","pageSizeOptions","pageIndex","pageSize","cellTemplate","sortChange","page","selectionChange"],["cover_photo",""],[1,"cover-photo",3,"src","alt"]],template:function(e,n){if(1&e&&(t.TgZ(0,"mat-card"),t.TgZ(1,"div",0),t.TgZ(2,"h3",1),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",2),t.TgZ(6,"mat-form-field",3),t.TgZ(7,"mtx-select",4),t.NdJ("ngModelChange",function(i){return n.propertiesCriteria.property_type=i})("change",function(i){return n.onSelectPropertyType(i)}),t.ALo(8,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",5),t.TgZ(10,"mtx-grid",6),t.NdJ("sortChange",function(i){return n.changeSort(i)})("page",function(i){return n.onPageChanged(i)})("selectionChange",function(i){return n.changeSelect(i)}),t.qZA(),t.YNc(11,F,1,2,"ng-template",null,7,t.W1O),t.qZA(),t.qZA()),2&e){const s=t.MAs(12);t.xp6(3),t.Oqu(t.lcZ(4,21,"menu.propertiesApproval")),t.xp6(4),t.s9C("placeholder",t.lcZ(8,23,"propertiesManagement.propertyType")),t.Q6J("clearable",!0)("ngModel",n.propertiesCriteria.property_type)("items",n.propertyTypes),t.xp6(3),t.Q6J("data",n.propertiesData)("columns",n.columns)("loading",n.loading)("columnResizable",!1)("rowSelectable",!1)("hideRowSelectionCheckbox",!0)("rowHover",!0)("rowStriped",!0)("columnMovable",!1)("expandable",!1)("pageOnFront",!0)("showPaginator",!1)("pageSizeOptions",t.DdM(25,_))("pageIndex",0)("pageSize",10)("cellTemplate",t.VKq(26,z,s))}},directives:[P.a8,S.KE,w.MS,l.JJ,l.On,D.CM],pipes:[p.X$],styles:[".title-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{border-inline-start:6px solid var(--text-primary);color:var(--text-primary)}mat-card[_ngcontent-%COMP%]{padding:20px 30px}.cover-photo[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:5px;object-fit:cover}"]}),o})();var U=r(4143);function q(o,a){if(1&o&&(t.TgZ(0,"span",17),t._UZ(1,"app-animated-digit",18),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("digit",e.statisticNumbers.pendingCount)("duration",500)}}function J(o,a){if(1&o&&(t.TgZ(0,"span",17),t._UZ(1,"app-animated-digit",18),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("digit",e.statisticNumbers.bookingCount)("duration",500)}}function N(o,a){if(1&o&&(t.TgZ(0,"span",17),t._UZ(1,"app-animated-digit",18),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("digit",e.statisticNumbers.userCount)("duration",500)}}function I(o,a){if(1&o&&(t.TgZ(0,"span",17),t._UZ(1,"app-animated-digit",18),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("digit",e.statisticNumbers.propertyCount)("duration",500)}}const R=[{path:"",component:(()=>{class o{constructor(e,n){this.dashboardService=e,this.commonService=n,this.subscriptions=new b.w}ngOnInit(){this.fetchStatisticNumbers()}fetchStatisticNumbers(){this.subscriptions.add(this.dashboardService.fetchDashboardStatistic().subscribe({next:e=>{this.statisticNumbers=e},error:e=>{this.commonService.handleErrorMessage(e)}}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Z),t.Y36(u.v))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dashboard"]],decls:44,vars:16,consts:[[1,"container-fluid","pt-3","pb-4","dashboard-container"],[1,"row","align-items-center","justify-content-center","mb-4"],[1,"col-md-3"],["routerLink","/properties-approval",1,"box-counter"],[1,"icon"],["src","assets/images/icons-counter/pending.svg","alt","pending icon"],[1,"name"],["class","count",4,"ngIf"],["routerLink","/booking-management",1,"box-counter"],["src","assets/images/icons-counter/total.svg","alt","total icon"],["routerLink","/user-management",1,"box-counter"],["src","assets/images/icons-counter/user.svg","alt","user icon"],[1,"row","justify-content-center","mb-4"],[1,"col-md-8"],[1,"col-md-4"],[1,"row","justify-content-center","align-items-center"],[1,"col-lg-12","col-md-12"],[1,"count"],[3,"digit","duration"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"span",4),t._UZ(5,"img",5),t.qZA(),t.TgZ(6,"p",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.YNc(9,q,2,2,"span",7),t.qZA(),t.qZA(),t.TgZ(10,"div",2),t.TgZ(11,"div",8),t.TgZ(12,"span",4),t._UZ(13,"img",9),t.qZA(),t.TgZ(14,"p",6),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.YNc(17,J,2,2,"span",7),t.qZA(),t.qZA(),t.TgZ(18,"div",2),t.TgZ(19,"div",10),t.TgZ(20,"span",4),t._UZ(21,"img",11),t.qZA(),t.TgZ(22,"p",6),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.YNc(25,N,2,2,"span",7),t.qZA(),t.qZA(),t.TgZ(26,"div",2),t.TgZ(27,"div",3),t.TgZ(28,"span",4),t._UZ(29,"img",5),t.qZA(),t.TgZ(30,"p",6),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.YNc(33,I,2,2,"span",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"div",12),t.TgZ(35,"div",13),t._UZ(36,"app-comparison-dashboard"),t.qZA(),t.TgZ(37,"div",14),t._UZ(38,"app-property-type"),t.qZA(),t.qZA(),t.TgZ(39,"div",12),t._UZ(40,"app-roomz-balance"),t.qZA(),t.TgZ(41,"div",15),t.TgZ(42,"div",16),t._UZ(43,"app-property-dashboard"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(7),t.Oqu(t.lcZ(8,8,"dashboard.pendingApproval")),t.xp6(2),t.Q6J("ngIf",void 0!==n.statisticNumbers),t.xp6(6),t.Oqu(t.lcZ(16,10,"dashboard.totalBookings")),t.xp6(2),t.Q6J("ngIf",void 0!==n.statisticNumbers),t.xp6(6),t.Oqu(t.lcZ(24,12,"dashboard.users")),t.xp6(2),t.Q6J("ngIf",void 0!==n.statisticNumbers),t.xp6(6),t.Oqu(t.lcZ(32,14,"dashboard.totalProperties")),t.xp6(2),t.Q6J("ngIf",void 0!==n.statisticNumbers))},directives:[d.rH,m.O5,x,C,T,L,U.v],pipes:[p.X$],styles:[".dashboard-container[_ngcontent-%COMP%]   .box-counter[_ngcontent-%COMP%]{cursor:pointer;background:#FFFFFF;box-shadow:var(--box-shadow);border-radius:10px;padding:12px 10px}@media (max-width: 991px){.dashboard-container[_ngcontent-%COMP%]   .box-counter[_ngcontent-%COMP%]{margin-bottom:25px}}.dashboard-container[_ngcontent-%COMP%]   .box-counter[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:40px;height:40px;background:rgba(86,174,195,.2);border-radius:50%;display:flex;justify-content:center;align-items:center;margin-bottom:5px}.dashboard-container[_ngcontent-%COMP%]   .box-counter[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:var(--danger-color);font-weight:500;font-size:18px;line-height:20px;margin-bottom:5px}.dashboard-container[_ngcontent-%COMP%]   .box-counter[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-weight:600;font-size:22px;line-height:33px;color:var(--main-txt-color)}"]}),o})()}];let j=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.Bz.forChild(R)],d.Bz]}),o})();var Y=r(4284);let Q=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[],imports:[[m.ez,j,l.u5,l.UX,Y.m8,h.X,v.PropertiesManagementModule]]}),o})()}}]);