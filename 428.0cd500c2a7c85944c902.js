"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[428],{690:(C,d,e)=>{e.d(d,{v:()=>h});var c=e(7716),i=e(2290),p=e(69),g=e(8583);let h=(()=>{class t{constructor(s,m,f){this.toaster=s,this.translateService=m,this.datePipe=f}dateMapping(s,m){return this.datePipe.transform(s,m)}handleSuccessMessage(s,m){this.toaster.success(s,m)}handleErrorMessage(s){this.toaster.error(s,this.translateService.instant("general.error"))}}return t.\u0275fac=function(s){return new(s||t)(c.LFG(i._W),c.LFG(p.sK),c.LFG(g.uU))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},9428:(C,d,e)=>{e.r(d),e.d(d,{AuthenticationModule:()=>N});var c=e(8583),i=e(3679),p=e(4284),g=e(3423),h=e(2340),t=e(7716),v=e(1841);let s=(()=>{class o{constructor(n){this.http=n}login(n){return this.http.post(`${h.N.endPointUrl}admin/login`,n)}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(v.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var m=e(5319),f=e(5939),L=e(690),A=e(69),T=e(7093),x=e(9224),Z=e(7322),S=e(8833),_=e(7423);function M(o,a){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"login.emailRequired")," "))}function y(o,a){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const n=t.oxw(2);let r;t.xp6(1),t.hij(" ",null==(r=n.getControl("email"))||null==r.errors?null:r.errors.remote," ")}}function F(o,a){if(1&o&&(t.TgZ(0,"mat-error"),t.YNc(1,M,3,3,"span",6),t.YNc(2,y,2,1,"span",6),t.qZA()),2&o){const n=t.oxw();let r,l;t.xp6(1),t.Q6J("ngIf",null==(r=n.getControl("email"))||null==r.errors?null:r.errors.required),t.xp6(1),t.Q6J("ngIf",null==(l=n.getControl("email"))||null==l.errors?null:l.errors.remote)}}function I(o,a){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"login.passwordRequired")," "))}function O(o,a){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const n=t.oxw(2);let r;t.xp6(1),t.hij(" ",null==(r=n.getControl("password"))||null==r.errors?null:r.errors.remote," ")}}function U(o,a){if(1&o&&(t.TgZ(0,"mat-error"),t.YNc(1,I,3,3,"span",6),t.YNc(2,O,2,1,"span",6),t.qZA()),2&o){const n=t.oxw();let r,l;t.xp6(1),t.Q6J("ngIf",null==(r=n.getControl("password"))||null==r.errors?null:r.errors.required),t.xp6(1),t.Q6J("ngIf",null==(l=n.getControl("password"))||null==l.errors?null:l.errors.remote)}}const J=[{path:"",component:(()=>{class o{constructor(n,r,l,u,Y,P){this.fb=n,this.router=r,this.authService=l,this.cookieService=u,this.commonService=Y,this.translateService=P,this.loading=!1,this.subscriptions=new m.w}ngOnInit(){this.initLoginForm()}initLoginForm(){this.loginForm=this.fb.group({email:["",[i.kI.required]],password:["",[i.kI.required]]})}getControl(n){return this.loginForm.get(n)}onLogin(){this.loading=!0,this.subscriptions.add(this.authService.login(this.loginForm.value).subscribe(n=>{var r,l,u;this.loading=!1,this.cookieService.put("token",JSON.stringify(null===(l=null===(r=null==n?void 0:n.data)||void 0===r?void 0:r.accessToken)||void 0===l?void 0:l.token)),this.cookieService.put("admin-details",JSON.stringify(null===(u=null==n?void 0:n.data)||void 0===u?void 0:u.admin)),this.commonService.handleSuccessMessage(this.translateService.instant("login.loggedInSuccess"),this.translateService.instant("general.success")),this.router.navigateByUrl("/dashboard")},n=>{var r;this.loading=!1,this.commonService.handleErrorMessage(null===(r=null==n?void 0:n.error)||void 0===r?void 0:r.message)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(i.qu),t.Y36(g.F0),t.Y36(s),t.Y36(f.N_),t.Y36(L.v),t.Y36(A.sK))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:23,vars:22,consts:[["fxLayout","row wrap",1,"w-full","h-full"],[1,"mat-elevation-z4","m-auto",2,"max-width","380px"],[1,"text-center","m-b-24"],[1,"form-field-full",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","email","required","",3,"placeholder"],[4,"ngIf"],["matInput","","type","password","formControlName","password","required","",3,"placeholder"],["mat-raised-button","",1,"w-full","login-btn",3,"disabled","click"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-card",1),t.TgZ(2,"mat-card-title",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"form",3),t.TgZ(6,"mat-form-field",4),t.TgZ(7,"mat-label"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"input",5),t.ALo(11,"translate"),t.YNc(12,F,3,2,"mat-error",6),t.qZA(),t.TgZ(13,"mat-form-field",4),t.TgZ(14,"mat-label"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._UZ(17,"input",7),t.ALo(18,"translate"),t.YNc(19,U,3,2,"mat-error",6),t.qZA(),t.TgZ(20,"button",8),t.NdJ("click",function(){return r.onLogin()}),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){let l,u;t.xp6(3),t.Oqu(t.lcZ(4,10,"login.login")),t.xp6(2),t.Q6J("formGroup",r.loginForm),t.xp6(3),t.Oqu(t.lcZ(9,12,"login.email")),t.xp6(2),t.s9C("placeholder",t.lcZ(11,14,"login.email")),t.xp6(2),t.Q6J("ngIf",null==(l=r.getControl("email"))?null:l.invalid),t.xp6(3),t.Oqu(t.lcZ(16,16,"login.password")),t.xp6(2),t.s9C("placeholder",t.lcZ(18,18,"login.password")),t.xp6(2),t.Q6J("ngIf",null==(u=r.getControl("password"))?null:u.invalid),t.xp6(1),t.Q6J("disabled",(null==r.loginForm?null:r.loginForm.invalid)||r.loading),t.xp6(1),t.hij("",t.lcZ(22,20,"login.login")," ")}},directives:[T.xw,x.a8,x.n5,i._Y,i.JL,i.sg,Z.KE,Z.hX,S.Nt,i.Fj,i.JJ,i.u,i.Q7,c.O5,_.lW,Z.TO],pipes:[A.X$],styles:["mat-form-field[_ngcontent-%COMP%]{margin-bottom:.5em!important}.login-btn[_ngcontent-%COMP%]{background-color:var(--text-primary);color:#fff;height:3em}"]}),o})()}];let E=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[g.Bz.forChild(J)],g.Bz]}),o})(),N=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[],imports:[[c.ez,E,i.u5,i.UX,p.m8]]}),o})()}}]);