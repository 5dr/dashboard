"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[704],{690:(C,g,i)=>{i.d(g,{v:()=>S});var u=i(2340),p=i(7716),t=i(2290),h=i(7460),v=i(8583),s=i(1841);let S=(()=>{class d{constructor(r,c,M,_){this.toaster=r,this.translateService=c,this.datePipe=M,this.http=_}dateMapping(r,c){return this.datePipe.transform(r,c)}handleSuccessMessage(r,c){this.toaster.success(r,c)}handleErrorMessage(r){this.toaster.error(r,this.translateService.instant("general.error"))}uploadImg(r){return this.http.post(`${u.N.endPointUrl}user/hosting/upload-images`,r)}}return d.\u0275fac=function(r){return new(r||d)(p.LFG(t._W),p.LFG(h.sK),p.LFG(v.uU),p.LFG(s.eN))},d.\u0275prov=p.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},8704:(C,g,i)=>{i.r(g),i.d(g,{ListSpaceModule:()=>U});var u=i(8583),p=i(2340),t=i(7716),h=i(1841);let v=(()=>{class e{constructor(n){this.http=n}fetchListSpaceData(){return this.http.get(`${p.N.endPointUrl}admin/list-space`)}updateListSpaceData(n){return this.http.put(`${p.N.endPointUrl}admin/update-list-space/1`,n)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(h.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var s=i(3679),S=i(690),d=i(5319),f=i(7460),r=i(9224),c=i(7322),M=i(8833),_=i(3322),x=i(7423);function A(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){return t.CHM(n),t.oxw().onEditListSpace()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"listSpace.editListSpace")," "))}function T(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"p",22),t.NdJ("click",function(){return t.CHM(n),t.oxw(),t.MAs(30).click()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"general.uploadImg")," "))}function b(e,l){1&e&&(t.TgZ(0,"p",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"general.uploading")))}function O(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"validations.required")," "))}function P(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"div",24),t.TgZ(1,"button",25),t.NdJ("click",function(){return t.CHM(n),t.oxw().onSave()}),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.TgZ(5,"button",26),t.NdJ("click",function(){return t.CHM(n),t.oxw().onCancel()}),t.TgZ(6,"span"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("disabled",n.listSpaceForm.invalid),t.xp6(2),t.Oqu(t.lcZ(4,4,"listSpace.save")),t.xp6(2),t.Q6J("disabled",n.listSpaceForm.invalid||n.loading),t.xp6(2),t.Oqu(t.lcZ(8,6,"listSpace.cancel"))}}const L=function(e){return{readonlay:e}};let y=(()=>{class e{constructor(n,a,o,m){this.fb=n,this.translateService=a,this.commonService=o,this.listSpaceService=m,this.loading=!1,this.editMode=!1,this.formData=new FormData,this.imgLink="",this.uploadLoading=!1,this.subscriptions=new d.w}ngOnInit(){this.fetchListSpaceData(),this.initListSpaceForm()}fetchListSpaceData(){this.subscriptions.add(this.listSpaceService.fetchListSpaceData().subscribe({next:n=>{n.successful&&this.listSpaceForm.patchValue(n.listSpaces[0])}}))}initListSpaceForm(){this.listSpaceForm=this.fb.group({text_ar:["",[s.kI.required]],text_en:["",[s.kI.required]],imag_url:["",[s.kI.required]]})}onEditListSpace(){this.editMode=!0}getControl(n){return this.listSpaceForm.get(n)}uploadImg(n){this.imgFile=n.target.files[0],this.formData.append("images",this.imgFile),this.uploadLoading=!0,this.subscriptions.add(this.commonService.uploadImg(this.formData).subscribe({next:a=>{var o;null===(o=this.getControl("imag_url"))||void 0===o||o.patchValue(a.data[0].image_url),this.imgLink=a.data[0].image_url,this.uploadLoading=!1},error:a=>{this.uploadLoading=!1,this.commonService.handleErrorMessage(a.message)}}))}onCancel(){this.editMode=!1}onSave(){this.listSpaceForm.valid&&(this.loading=!0,this.subscriptions.add(this.listSpaceService.updateListSpaceData(this.listSpaceForm.value).subscribe({next:n=>{n.successful&&(this.commonService.handleSuccessMessage(this.translateService.instant("listSpace.updateSuccess"),this.translateService.instant("general.success")),this.fetchListSpaceData(),this.editMode=!1,this.loading=!1)},error:n=>{this.editMode=!1,this.loading=!1,this.commonService.handleErrorMessage(n.message)}})))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(s.qu),t.Y36(f.sK),t.Y36(S.v),t.Y36(v))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-space-mang"]],decls:35,vars:30,consts:[[1,"container-fluid","pt-3","pb-4"],[1,"row","title-row"],[1,"col-lg-6","col-md-6","col-sm-12"],[1,"title"],[1,"col-lg-6","col-md-6","col-sm-12","button-container"],["mat-raised-button","","class","btn",3,"click",4,"ngIf"],[3,"formGroup"],[1,"row","justify-content-between","mt-5"],[1,"col-md-6"],["matInput","","formControlName","text_ar","rows","5",1,"w-100",3,"ngClass","readonly"],["matInput","","formControlName","text_en","rows","5",1,"w-100",3,"ngClass","readonly"],[1,"col-md-5","mb-3"],[1,"label"],["class","label file-input",3,"click",4,"ngIf"],["class","mb-3",4,"ngIf"],["type","file",1,"d-none",3,"change"],["inputFile",""],[4,"ngIf"],[1,"img","mt-2"],["alt","",1,"img-fluid",3,"src","ngClass"],["class","mt-4",4,"ngIf"],["mat-raised-button","",1,"btn",3,"click"],[1,"label","file-input",3,"click"],[1,"mb-3"],[1,"mt-4"],["mat-stroked-button","",1,"btn",3,"disabled","click"],["mat-stroked-button","",1,"cancel",3,"disabled","click"]],template:function(n,a){if(1&n&&(t.TgZ(0,"mat-card"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.TgZ(3,"div",2),t.TgZ(4,"h3",3),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,A,3,3,"button",5),t.qZA(),t.qZA(),t.TgZ(9,"form",6),t.TgZ(10,"div",7),t.TgZ(11,"div",8),t.TgZ(12,"mat-form-field"),t.TgZ(13,"mat-label"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._UZ(16,"textarea",9),t.qZA(),t.qZA(),t.TgZ(17,"div",8),t.TgZ(18,"mat-form-field"),t.TgZ(19,"mat-label"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._UZ(22,"textarea",10),t.qZA(),t.qZA(),t.TgZ(23,"div",11),t.TgZ(24,"p",12),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.YNc(27,T,3,3,"p",13),t.YNc(28,b,3,3,"p",14),t.TgZ(29,"input",15,16),t.NdJ("change",function(m){return a.uploadImg(m)}),t.qZA(),t.YNc(31,O,3,3,"mat-error",17),t.TgZ(32,"div",18),t._UZ(33,"img",19),t.qZA(),t.qZA(),t.qZA(),t.YNc(34,P,9,8,"div",20),t.qZA(),t.qZA(),t.qZA()),2&n){let o,m;t.xp6(5),t.Oqu(t.lcZ(6,16,"menu.listSpace")),t.xp6(3),t.Q6J("ngIf",!a.editMode),t.xp6(1),t.Q6J("formGroup",a.listSpaceForm),t.xp6(5),t.Oqu(t.lcZ(15,18,"listSpace.textAr")),t.xp6(2),t.Q6J("ngClass",t.VKq(24,L,!a.editMode))("readonly",!a.editMode),t.xp6(4),t.Oqu(t.lcZ(21,20,"listSpace.textEn")),t.xp6(2),t.Q6J("ngClass",t.VKq(26,L,!a.editMode))("readonly",!a.editMode),t.xp6(3),t.hij(" ",t.lcZ(26,22,"listSpace.imgUrl")," "),t.xp6(2),t.Q6J("ngIf",!a.uploadLoading&&a.editMode),t.xp6(1),t.Q6J("ngIf",a.uploadLoading),t.xp6(3),t.Q6J("ngIf",(null==(o=a.getControl("imag_url"))?null:o.touched)&&(null==(o=a.getControl("imag_url"))?null:o.invalid)),t.xp6(2),t.Q6J("src",null==(m=a.getControl("imag_url"))?null:m.value,t.LSH)("ngClass",t.VKq(28,L,a.editMode)),t.xp6(1),t.Q6J("ngIf",a.editMode)}},directives:[r.a8,u.O5,s._Y,s.JL,s.sg,c.KE,c.hX,M.Nt,s.Fj,s.JJ,s.u,u.mk,_.oO,x.lW,c.TO],pipes:[f.X$],styles:[".title-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{border-inline-start:6px solid var(--text-primary);color:var(--text-primary);padding-inline-start:10px}.button-container[_ngcontent-%COMP%]{justify-content:end;text-align:end;padding-inline-end:5%}.btn[_ngcontent-%COMP%]{background-color:var(--text-primary);color:var(--white-color)}form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:8em;resize:none}form[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{background-color:var(--text-primary);color:var(--white-color)!important;padding:10px 18px;display:inline-block;cursor:pointer;border-radius:5px;opacity:1!important}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;display:block;margin-bottom:1em}form[_ngcontent-%COMP%]   .readonlay[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5!important}form[_ngcontent-%COMP%]   img.readonlay[_ngcontent-%COMP%]{opacity:.5}form[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;color:var(--main-txt-color);opacity:.5}.cancel[_ngcontent-%COMP%]{margin-inline-start:20px}"]}),e})();var Z=i(3423);const I=[{path:"",component:y}];let E=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[Z.Bz.forChild(I)],Z.Bz]}),e})();var F=i(4284);let U=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.ez,E,F.m8,s.u5,s.UX]]}),e})()}}]);